IP层：
尽最大努力交付。

IP数据报检验和仅检验IP数据报首部，UDP检验和把数据部分和首部一起检验。
IP标志位最低位MF=1,表示后面还有分片；MF=0,表示后面没有分片。中间位DF=0，表示允许分片，否则不允许分片。
OSPF不使用UDP,TCP,直接IP数据报发送；RIP是应用层协议，在传输层使用UDP。
IP首部；
UDP首部；
TCP首部；
文件传输协议
(1)FTP 客户/服务器端 使用 TCP连接
动态主机配置协议（DHCP)
邮件传输过程
传输层
服用分用；
UDP:
（1） 特点
无连接；
尽最大努力交付；
面向报文：UDP对应用层交下来的报文既不合并，也不拆分，保留报文的边界；添加首部后交给IP层。
没有拥塞控制，因此网络出现的拥塞不会使源主机发送速率降低。适合实时应用。
支持一对一，一对多，多对一，多对多方式通信。
首部开销小，只有八个字节，比TCP20个字节少；
没有拥塞控制，可能造成严重网络拥塞；

（2）
首部格式
8个字节，4个字段，每个字段2个字节；
源端口 ： 源端口号，在需要对方回信时选用，不需要时可以全0
目的端口 ：  目的端口号，在交付报文时必须使用；
首部长度 ：  UDP数据报的长度，最小值是8，仅有首部；
检验和 ：    检测UDP数据报在传输时是否有问题，有就丢弃；（伪首部检验，既不向上提交，也不向下传送，仅仅用于检验）


TCP:
(1) 特点
面向连接的传输层协议： 在使用TCP协议前，必须先建立连接 ， 传送结束后， 必须释放连接；
每一条TCP连接只能有两个端口，每一条TCP连接只能是点对点的。
提供可靠交付的服务。
全双工通信（发送缓存，接收缓存）。
面向字节流

理想传输条件：
(1)传输信道不产生差错
(2)不管发送方以多快的速率发送文件，接收方总是来得及处理收到的数据；
在这样的理想传输条件下，不采取任何措施就能实现可靠传输。然而实际网络不具备以上条件。我们可以使用一些可靠传输协议，当出现差错时让对方重传出现差错
的数据，同时在接收方来不及处理收到的数据时，及时告诉发送方适当降低发送数据的速度。这样一来，本来不可靠的信道就能实现可靠传输。

确认和重传机制，可以在不可靠的传输网络上实现可靠传输。
(1)在发送完一个分组后，必须暂时保留已发送的文件的副本；
(2)分组和确认分组都必须进行编号；
(3)超时计时器设置的重传时间必须比数据在分组传输的平均往返时间更长一点；



































